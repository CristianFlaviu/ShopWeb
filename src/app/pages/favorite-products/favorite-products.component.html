<div class="page" *ngIf="isPageInfoLoaded">

  <!-- ========== empty card ============= -->
  <div *ngIf="products.length==0" class="empty-div">
    <p-card styleClass='empty-shop-cart'>

      <ng-template pTemplate="header">
        Favourite product list is empty
      </ng-template>

      <img class="empty-cart-image"
        src="https://s13emagst.akamaized.net/layout/ro/static-upload/empty_state_favorite.png" alt="emc">
      <ng-template pTemplate="footer">
        <button mat-raised-button color="primary" routerLink='/home'>
          <mat-icon>
            search</mat-icon> Find a Product
        </button>
      </ng-template>
    </p-card>
  </div>

  <div *ngIf="products.length!=0" class="list-products-div">
    <p-card>
      <div *ngFor="let item of products;index as i;">
        <div class="p-grid">
          <!-- ===================== Image ===================== -->
          <div class="p-col-3 div-image">
            <img src='{{item.pathToImage}}' class="small-image">
          </div>
          <!-- ===================== Title ===================== -->
          <div class="title-div">

            <div class="title-product" [routerLink]="'/product-details/'+item.barcode">
              {{item.title}}
            </div>

            <div class="stock">
              <span *ngIf="item.unitsAvailable>0" style=" color: green;">
                In stock ({{item.unitsAvailable}})
              </span>

              <span *ngIf="item.unitsAvailable <= 0" style=" color: #c00c48;">
                Sold
              </span>

            </div>
          </div>
          <!-- ===================== Price ===================== -->
          <div class="price">
            <div class="newprice">
              {{item.newPrice}} Lei
            </div>

            <div class="oldprice">
              <span style=" text-decoration: line-through;"> {{item.oldPrice}} Lei </span>
            </div>
          </div>
          <!-- ===================== Buttons ===================== -->
          <div class="buttons">
            <button mat-raised-button color="primary" class="product-buttons" [disabled]="item.unitsAvailable<=0"
              (click)="addProductToShoppingCart(item.barcode)">
              <mat-icon>
                add_shopping_cart</mat-icon>
            </button>

            <button mat-raised-button color="warn" class="product-buttons"
              (click)="deleteProductShoppingCart(item.barcode)">
              <mat-icon>
                delete</mat-icon>
            </button>

          </div>
        </div>
        <p-divider *ngIf="i!=products.length-1"></p-divider>
      </div>

      <!-- <ng-template pTemplate="footer">
        <span style="font-size: 20px; font-weight: 500;"> Total Price: {{ + 10}} Lei</span>
      </ng-template> -->
    </p-card>
  </div>

</div>